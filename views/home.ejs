<%- include('partials/header.ejs') %>

<% if(posts.length===0) { %>
    <h3>No posts published yet.</h3>
    <hr>
<% } else {%>
    <% posts.forEach(post => { %>
        <div class="post">
            <a id="post-title" href="/posts/<%=post.id%>"><h2><%= post.title %></h2></a>
            <p><%= post.content.substring(0, 100) %>...</p>
            <a href="/posts/<%=post.id%>">Read More</a>
            <a href="/edit/<%=post.id%>">Edit</a>
            <form action="/delete/<%=post.id%>" method="POST" style="display: inline;">
                <button type="submit">Delete</button>
            </form>
        </div>
        
    <% });  %>
<% } %>

<%- include('partials/footer.ejs') %>
